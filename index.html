<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fitness Rewards Mini-App</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<style>
body, html {
margin: 0;
padding: 0;
font-family: Arial, sans-serif;
height: 100%;
background: linear-gradient(135deg, #2c2c2c 0%, #1a1a1a 100%);
color: #ffffff;
overflow-x: hidden;
}
#background-canvas {
position: fixed;
top: 0;
left: 0;
z-index: -1;
}
.container {
max-width: 800px;
margin: 0 auto;
padding: 20px;
box-sizing: border-box;
position: relative;
z-index: 1;
}
.header {
text-align: center;
margin-bottom: 30px;
}
.header h1 {
font-size: 2.5em;
color: #4CAF50;
margin: 0;
}
.reward-circle {
width: 300px;
height: 150px;
margin: 0 auto 30px;
position: relative;
}
.reward-amount {
position: absolute;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
font-size: 2em;
font-weight: bold;
color: #4CAF50;
}
.progress-bar {
background-color: #333333;
border-radius: 10px;
padding: 3px;
margin-bottom: 20px;
}
.progress {
background-color: #4CAF50;
height: 20px;
border-radius: 7px;
width: 0;
transition: width 1s ease-in-out;
}
.stats-container {
display: flex;
justify-content: space-around;
flex-wrap: wrap;
margin-bottom: 30px;
}
.stat-card {
background-color: #333333;
border-radius: 10px;
padding: 20px;
margin: 10px;
flex: 1 1 200px;
text-align: center;
box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}
.stat-card h3 {
color: #4CAF50;
margin-top: 0;
}
.button {
background-color: #4CAF50;
color: white;
border: none;
padding: 10px 20px;
text-align: center;
text-decoration: none;
display: inline-block;
font-size: 16px;
margin: 4px 2px;
cursor: pointer;
border-radius: 5px;
transition: background-color 0.3s;
}
.button:hover {
background-color: #45a049;
}
#rewardSticker {
width: 100px;
height: 100px;
position: absolute;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
}
.slide {
display: none;
}
.slide.active {
display: block;
}
.welcome-message {
text-align: center;
margin-bottom: 30px;
}
.login-form {
display: flex;
flex-direction: column;
align-items: center;
}
.login-form input {
margin: 10px 0;
padding: 10px;
width: 100%;
max-width: 300px;
border-radius: 5px;
border: none;
}
@media (max-width: 768px) {
.header h1 {
font-size: 2em;
}
.reward-circle {
width: 250px;
height: 125px;
}
.reward-amount {
font-size: 1.5em;
}
.stat-card {
flex: 1 1 100%;
}
}
</style>
</head>
<body>
<canvas id="background-canvas"></canvas>
<div class="container">
<header class="header">
<h1>Fitness Rewards</h1>
</header>

<div id="welcomeSlide" class="slide active">
<div class="welcome-message">
<h2>Welcome to Fitness Rewards!</h2>
<p>Track your physical activities and earn TON blockchain tokens as rewards. Stay fit and get rewarded!</p>
</div>
<div style="text-align: center;">
<button class="button" onclick="showSlide('loginSlide')">Get Started</button>
</div>
</div>

<div id="loginSlide" class="slide">
<h2>Login</h2>
<form class="login-form" onsubmit="event.preventDefault(); login();">
<input type="text" id="username" placeholder="Username" required>
<input type="password" id="password" placeholder="Password" required>
<button class="button" type="submit">Login</button>
</form>
</div>

<div id="activitySlide" class="slide">
<div class="reward-circle">
<svg width="300" height="150" viewBox="0 0 300 150">
<path d="M10,75 A140,140 0 0,1 290,75" fill="none" stroke="#333333" stroke-width="20"/>
<path id="rewardArc" d="M10,75 A140,140 0 0,1 290,75" fill="none" stroke="#4CAF50" stroke-width="20" stroke-dasharray="440" stroke-dashoffset="440"/>
</svg>
<div class="reward-amount">0 TON</div>
<svg id="rewardSticker" viewBox="0 0 100 100">
<circle cx="50" cy="50" r="45" fill="#4CAF50" />
<text x="50" y="60" font-size="40" text-anchor="middle" fill="white">üèÉ</text>
</svg>
</div>

<div class="progress-bar">
<div id="activityProgress" class="progress"></div>
</div>

<div class="stats-container">
<div class="stat-card">
<h3>Steps</h3>
<p id="stepsCount">0</p>
</div>
<div class="stat-card">
<h3>Distance</h3>
<p id="distance">0 km</p>
</div>
<div class="stat-card">
<h3>Calories</h3>
<p id="calories">0 kcal</p>
</div>
</div>

<div style="text-align: center;">
<button class="button" onclick="syncActivity()">Sync Activity</button>
</div>
</div>
</div>

<script>
let currentReward = 0;
let targetReward = 10;
let currentSteps = 0;
let currentDistance = 0;
let currentCalories = 0;

function showSlide(slideId) {
document.querySelectorAll('.slide').forEach(slide => slide.classList.remove('active'));
document.getElementById(slideId).classList.add('active');
}

function login() {
// Simulating login process
localStorage.setItem('loggedIn', 'true');
showSlide('activitySlide');
}

function checkLoginStatus() {
if (localStorage.getItem('loggedIn') === 'true') {
showSlide('activitySlide');
}
}

function animateValue(id, start, end, duration) {
let startTimestamp = null;
const step = (timestamp) => {
if (!startTimestamp) startTimestamp = timestamp;
const progress = Math.min((timestamp - startTimestamp) / duration, 1);
const value = Math.floor(progress * (end - start) + start);
document.getElementById(id).textContent = value;
if (progress < 1) {
window.requestAnimationFrame(step);
}
};
window.requestAnimationFrame(step);
}

function updateRewardCircle(percentage) {
const circumference = 2 * Math.PI * 140;
const offset = circumference - (percentage / 100) * circumference;
document.getElementById('rewardArc').style.strokeDashoffset = offset;
}

function syncActivity() {
currentReward = Math.min(currentReward + Math.random() * 2, targetReward);
currentSteps += Math.floor(Math.random() * 1000);
currentDistance += Math.random() * 0.5;
currentCalories += Math.floor(Math.random() * 50);

animateValue('stepsCount', parseInt(document.getElementById('stepsCount').textContent), currentSteps, 1000);
document.getElementById('distance').textContent = currentDistance.toFixed(2) + ' km';
animateValue('calories', parseInt(document.getElementById('calories').textContent), currentCalories, 1000);

const percentage = (currentReward / targetReward) * 100;
document.getElementById('activityProgress').style.width = percentage + '%';
updateRewardCircle(percentage);
document.querySelector('.reward-amount').textContent = currentReward.toFixed(2) + ' TON';

// Animate the sticker
const sticker = document.getElementById('rewardSticker');
sticker.style.transform = 'translate(-50%, -50%) scale(1.2)';
setTimeout(() => {
sticker.style.transform = 'translate(-50%, -50%) scale(1)';
}, 200);
}

// Initialize Three.js background animation
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('background-canvas'), alpha: true });
renderer.setSize(window.innerWidth, window.innerHeight);

const geometry = new THREE.SphereGeometry(5, 32, 32);
const material = new THREE.MeshBasicMaterial({ color: 0x4CAF50, wireframe: true });
const sphere = new THREE.Mesh(geometry, material);
scene.add(sphere);

camera.position.z = 20;

let heartbeatScale = 1;
let heartbeatDirection = 0.01;

function animate() {
requestAnimationFrame(animate);

// Pulsating effect
heartbeatScale += heartbeatDirection;
if (heartbeatScale > 1.1 || heartbeatScale < 0.9) {
heartbeatDirection *= -1;
}
sphere.scale.set(heartbeatScale, heartbeatScale, heartbeatScale);

// Rotate the sphere
sphere.rotation.x += 0.01;
sphere.rotation.y += 0.01;

renderer.render(scene, camera);
}
animate();

// Make Three.js canvas responsive
window.addEventListener('resize', () => {
camera.aspect = window.innerWidth / window.innerHeight;
camera.updateProjectionMatrix();
renderer.setSize(window.innerWidth, window.innerHeight);
});

// Check login status on page load
window.addEventListener('load', checkLoginStatus);
</script>
</body>
</html>
